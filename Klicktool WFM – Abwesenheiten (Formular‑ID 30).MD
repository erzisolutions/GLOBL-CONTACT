# ğŸ“‹ Klicktool WFM â€“ Abwesenheiten (Formularâ€‘IDÂ 30)
ğŸš€ Nextâ€‘Level Technische Dokumentation  
Mit Flowâ€‘Diagrammen fÃ¼r maximale Ãœbersichtlichkeit

---

## ğŸ“– Inhaltsverzeichnis
1. [ArchitekturÃ¼bersicht](#-architekturÃ¼bersicht)
2. [Allgemeine Kanalâ€‘Metadaten](#-allgemeineâ€‘kanalâ€‘metadaten)
3. [Formulareinstellungen (`<form>`)](#-formulareinstellungen-form)
4. [Felder (`<field>`)](#-felder-field)
5. [Ansichten & Aktionen (`<view>`)](#-ansichten--aktionen-view)
6. [Flowâ€‘Diagramme](#-flow-diagramme)
   1. [Formularâ€‘Lifecycle](#1-formular-lifecycle)
   2. [Eâ€‘Mailâ€‘Triggerâ€‘Flow](#2-eâ€‘mail-trigger-flow)
7. [Beispiele](#-beispiele)
8. [Zusammenfassung](#-zusammenfassung)

---

## ğŸ› ArchitekturÃ¼bersicht
```mermaid
flowchart TD
  subgraph Client
    U[ğŸ‘¤ Benutzer] -->|Ã¶ffnet Formular| F[ğŸ“„ Formularâ€‘IDÂ 30]
    F --> V{ğŸ›¡ï¸ Clientâ€‘Validierung}
    V -->|âœ… OK| S[ğŸ’¾ Speicherung]
    V -->|âŒ Fehler| E[âš ï¸ Fehlermeldung]
  end

  subgraph Server
    S --> DB[(ğŸ”’ Datenbank)]
    S --> A[ğŸ”§ Ansichten & Aktionen]
    A --> V1[ğŸ“‹ Tabellenâ€‘Views]
    A --> Evt[ğŸ“§ Eâ€‘Mail Aktionen]
  end
```

---

## ğŸ” Allgemeine Kanalâ€‘Metadaten
| ğŸ”‘ SchlÃ¼ssel       | ğŸ“„ Wert                                      |
|--------------------|----------------------------------------------|
| **Titel**          | Globl Ambasador                              |
| **VerÃ¶ffentlicht** | 25. AprÂ 2025Â 00:47Â UTC                       |
| **Erstellt**       | 05.Â MÃ¤rÂ 2025Â 08:38                           |
| **Status**         | âœ… published                                 |
| **Beschreibung**   | XMLâ€‘Schema fÃ¼r Abwesenheitsâ€‘Formular & Views |

---

## ğŸ›  Formulareinstellungen (`<form>`)
| ğŸ”‘ Attribut        | ğŸ“¦ Typ / Werte                         | ğŸ“ Beschreibung                          |
|--------------------|----------------------------------------|------------------------------------------|
| `id`               | Integer (z.â€¯B. 30)                     | Formularâ€‘ID                              |
| `form_key`         | String (CDATA)                         | Einmaliger interner SchlÃ¼ssel            |
| `name`             | String (CDATA)                         | â€ğŸŸ¥ Abwesenheitenâ€œ                       |
| `description`      | String (CDATA)                         | Freitext, leer                           |
| `created_at`       | Timestamp                              | Erstellungszeitpunkt                     |
| `logged_in`        | 0 / 1                                  | Ã–ffentlich / Nur eingeloggte             |
| `is_template`      | 0 / 1                                  | Kein Template / Template                 |
| `editable`         | 0 / 1                                  | Nicht editierbar / Editierbar            |
| `options`          | JSONâ€‘Block                             | Ajax, Validierung, Rollen, Draftâ€‘Speich. |
| `status`           | `published` / `draft`                  | Publiziert oder Entwurf                  |
| `parent_form_id`   | Integer                                | Ãœbergeordnet (0Â = keines)                |

---

## ğŸ“‹ Felder (`<field>`)
| ğŸ†” ID | ğŸ”‘ Key   | ğŸ· Name                      | ğŸ“¦ Typ      | âœ… Pflicht | ğŸ¯ Default        | ğŸ“– Beschreibung                                   |
|-------|----------|-----------------------------|-------------|------------|-------------------|---------------------------------------------------|
| 647   | `9nx4z`  | ErstelltÂ von                | `name`      | Ja         | `{"first":"â€¦"}`| ğŸ‘¤ Autovervollst. VornameÂ + Nachname              |
| 645   | `p0jmn`  | DatumÂ derÂ Erfassung         | `date`      | Ja         | `[date]`          | ğŸ“… Heutiges Datum (YYYYâ€‘MMâ€‘DD)                    |
| 744   | `tzjug`  | ZeitÂ derÂ Erfassung          | `time`      | Nein       | `[time]`          | â° Aktuelle Uhrzeit (HH:MM, 24â€¯h)                 |
| 652   | `flpyx`  | **Mitarbeiterdaten**        | `divider`   | â€“          | â€“                 | Trennt Abschnitt                                  |
| 742   | `nwksj`  | VornameÂ desÂ Mitarbeiters    | `text`      | Ja         | â€“                 | âœï¸ Platzhalter â€ğŸ‘¤Â Vornameâ€œ                        |
| 743   | `e40ji`  | NachnameÂ desÂ Mitarbeiters   | `text`      | Ja         | â€“                 | âœï¸ Platzhalter â€ğŸ‘¤Â Nachnameâ€œ                       |
| 740   | `jauwk`  | Eâ€‘MailÂ desÂ Mitarbeiters     | `text`      | Ja         | â€“                 | ğŸ“§ Vorname.Nachname@globl.contact                 |
| 666   | `r5loi`  | Pers.-Nr.                   | `text`      | Ja         | â€“                 | ğŸ”¢ Personalnummer                                |
| 726   | `nw3pz`  | ProjektÂ wÃ¤hlen              | `select`    | Ja         | â€“                 | â–¶ï¸ About You, Canyon, DG, Telekom, STRATO, â€¦      |
| 667   | `itztd`  | Abteilung                   | `text`      | Nein       | â€“                 | ğŸ¢ Freitext                                       |
| 727   | `zl2m7`  | Abwesenheitsgrund           | `select`    | Ja         | â€“                 | ğŸš« Unentschuldigt, ğŸ¤’Â Krankmeldung, ğŸŒ´Â Urlaub, â€¦  |
| 739   | `891k2`  | UntertÃ¤gig                  | `checkbox`  | Nein       | â€“                 | Nur bei Krankmeldung anzeigen                   |
| 745   | `spbw4`  | AusfallÂ von                 | `time`      | Nein       | â€“                 | StartzeitÂ HH:MM                                  |
| 746   | `1bpfo`  | AusfallÂ bis                 | `time`      | Nein       | â€“                 | EndzeitÂ HH:MM                                    |
| 681   | `7lh1p`  | BemerkungenÂ /Â Anmerkungen   | `textarea`  | Nein       | â€“                 | ğŸ“ Freitext                                       |
| 644   | `submit5`| ğŸ“¤ Eâ€‘MailsÂ Senden            | `submit`    | Nein       | â€“                 | LÃ¶st Eâ€‘Mailâ€‘Aktionen aus                         |
| 750   | `xbkt0`  | UserÂ ID                     | `user_id`   | Nein       | â€“                 | Internes Nutzerâ€‘ID                               |

---

## ğŸ‘ï¸ Ansichten & Aktionen (`<view>`)
- **Tabellenâ€‘Views** (`frm_display`): Tagesâ€‘, Wochenâ€‘, Gesamtâ€‘Ansicht  
- **Eâ€‘Mailâ€‘Aktionen** (`frm_form_actions`):  
  - ğŸ“§ Trigger: `event: ["create"]`  
  - ğŸ“¨ EmpfÃ¤nger je Projekt  
  - âš™ï¸ Bedingungen via `conditions`

---

## ğŸŒŠ Flowâ€‘Diagramme

### 1. Formular-Lifecycle
```mermaid
flowchart LR
  U[ğŸ‘¤ Benutzer] -->|Ã¶ffnet Formular| F[ğŸ“„ FormularÂ 30]
  F --> V{ğŸ›¡ï¸ JSâ€‘Validierung}
  V -->|âœ… OK| S[ğŸ’¾ Speichern]
  V -->|âŒ Fehler| E[âš ï¸ Fehlermeldung]
  S --> DB[(ğŸ”’ DB)]
  S --> V1[ğŸ“‹ Views generieren]
  S --> Evt[ğŸ“§ Eâ€‘Mail Aktionen]
```

### 2. Eâ€‘Mailâ€‘Triggerâ€‘Flow
```mermaid
flowchart TD
  S[Eintrag erstellt] --> C{Projekt?}
  C -->|Telefonica| E1[Eâ€‘Mail an telefonica-tl@â€¦]
  C -->|STRATO|   E2[Eâ€‘Mail an strato-tl@â€¦]
  C -->|DG|       E3[Eâ€‘Mail an dg-tl@â€¦]
  C -->|â€¦|        E4[Eâ€‘Mail an â€¦]
  E1 --> R[âœ… Erfolgsseite]
  E2 --> R
  E3 --> R
  E4 --> R
```

---

## ğŸ›  Beispiele
**Formularâ€‘SnipÂ­pet**
```xml
<form>
  <id>30</id>
  <name><![CDATA[ ğŸŸ¥Â Abwesenheiten ]]></name>
  <created_at>2025-03-05Â 08:38:20</created_at>
  <editable>1</editable>
  <status><![CDATA[ published ]]></status>
</form>
```

**Feldâ€‘Snippet: Abwesenheitsgrund**
```xml
<field>
  <id>727</id>
  <name><![CDATA[ Abwesenheitsgrund ]]></name>
  <type><![CDATA[ select ]]></type>
  <options><![CDATA[
    [
      {"label":"ğŸš«Â Unentschuldigt","value":"unentschuldigt"},
      {"label":"ğŸ¤’Â Krankmeldung","value":"krankmeldung"},
      â€¦
    ]
  ]]></options>
</field>
```

---

## âœ… Zusammenfassung
- ğŸŒŸ **Nextâ€‘Level:** Ãœbersichtliche Flow-Diagramme  
- ğŸ” **Detailtiefe:** Alle Felder, Optionen, Views & Aktionen dokumentiert  
- ğŸ”§ **Modular:** Klare Trennung von Formular-Settings, Feld-Definitionen & Views  
- ğŸ“ˆ **Skalierbar:** Einfach erweiterbar durch JSONâ€‘Optionen

> Dieses README.md bietet Entwicklern & Administratoren einen umfassenden, visuellen & modularen Leitfaden fÃ¼r das Abwesenheits-Formular im Klicktool.

