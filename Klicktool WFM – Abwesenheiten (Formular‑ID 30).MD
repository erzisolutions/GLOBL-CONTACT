ğŸ“˜ **Technische Dokumentation: FORMIDABLE XML-Datenexport â€“ â€ğŸŸ¥ Abwesenheitenâ€œ**  

---

### âš™ï¸ Ãœberblick  
Dieses Dokument beschreibt die XML-Struktur des Formulars mit der ID **30** (â€ğŸŸ¥ Abwesenheitenâ€œ) aus dem System **Formidable Forms** (WordPress). Es fasst alle Felder, Typen und Optionen zusammen und ist gedacht fÃ¼r Analyse, Reproduktion und maschinelle Weiterverarbeitung. :contentReference[oaicite:0]{index=0}&#8203;:contentReference[oaicite:1]{index=1}

---

### ğŸ“ Formulardetails  
- **Formular-ID:** 30  
- **Formular-Key:** `ieq67`  
- **Name:** ğŸŸ¥ Abwesenheiten  
- **Erstellt am:** 2025-03-05 08:38:20  
- **Status:** published  
- **Export-Datum (PubDate):** Fri, 25 Apr 2025 00:47:45 +0000 :contentReference[oaicite:2]{index=2}&#8203;:contentReference[oaicite:3]{index=3}

---

### ğŸ“‘ FeldÃ¼bersicht  

| ğŸ·ï¸ Feldname                  | ğŸ§¾ Typ          | ğŸ“„ Beschreibung                        | ğŸ”¢ MÃ¶gliche Werte / Optionen                                                                                                                                                                      |
|------------------------------|----------------|---------------------------------------|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Erstellt von                 | name           | Automatisch erzeugter Nutzername      | - Read-only; kombiniert `[first_name]` + `[last_name]` :contentReference[oaicite:4]{index=4}&#8203;:contentReference[oaicite:5]{index=5}                                                                                                                        |
| Datum der Erfassung          | date           | Datum des Eintrags                     | Format `YYYY-MM-DD`; Standard: `[date]` :contentReference[oaicite:6]{index=6}&#8203;:contentReference[oaicite:7]{index=7}                                                                                                                                       |
| Zeit der Erfassung           | time           | Uhrzeit des Eintrags                   | Format `HH:mm`; Standard: `[time]`; read-only :contentReference[oaicite:8]{index=8}&#8203;:contentReference[oaicite:9]{index=9}                                                                                                                                 |
| **Mitarbeiterdaten**         | divider        | AbschnittsÃ¼berschrift                  | â€“                                                                                                                                                                                                |
| Vorname des Mitarbeiters     | text           | Vorname des betroffenen Mitarbeiters    | Beliebiger String; placeholder â€ğŸ˜€ Vornameâ€œ :contentReference[oaicite:10]{index=10}&#8203;:contentReference[oaicite:11]{index=11}                                                                                                                                     |
| Nachname des Mitarbeiters    | text           | Nachname des betroffenen Mitarbeiters   | Beliebiger String; placeholder â€ğŸ˜€ Nachnameâ€œ :contentReference[oaicite:12]{index=12}&#8203;:contentReference[oaicite:13]{index=13}                                                                                                                                   |
| E-Mail des Mitarbeiters      | text (calc)    | Automatisch berechnete E-Mail          | Berechnung: `[Vorname].[Nachname]@globl.contact` :contentReference[oaicite:14]{index=14}&#8203;:contentReference[oaicite:15]{index=15}                                                                                                                                 |
| Pers.-Nr.                    | text           | Personalnummer                         | Freitext; placeholder â€Pers.-Nr.â€œ :contentReference[oaicite:16]{index=16}&#8203;:contentReference[oaicite:17]{index=17}                                                                                                                                                |
| Projekt wÃ¤hlen               | select         | Auswahl des Projekts                   | About You, Canyon, DG, Telekom, STRATO, TELEFONICA, SEC â€¦ :contentReference[oaicite:18]{index=18}&#8203;:contentReference[oaicite:19]{index=19}                                                                                                                       |
| Abteilung                    | text           | Abteilung                              | Freitext; placeholder â€ğŸ¢ Abteilungâ€œ :contentReference[oaicite:20]{index=20}&#8203;:contentReference[oaicite:21]{index=21}                                                                                                                                             |
| Abwesenheitsgrund            | select         | Art der Abwesenheit                    | ğŸš« Unentschuldigte Abwesenheit, ğŸ¤” Krankmeldung, ğŸ‘¶ Kinderkrankmeldung, ğŸŒ´ Urlaub, âœ¨ Sonderurlaub, ğŸ‰ Feiertag, â™»ï¸ Ausgleichstag :contentReference[oaicite:22]{index=22}&#8203;:contentReference[oaicite:23]{index=23}                                              |
| UntertÃ¤gig                   | checkbox       | Kennzeichnung fÃ¼r teilÂ­tÃ¤gige Abwesenheit | Anzeige nur, wenn Grund = Krankmeldung oder Kinderkrankmeldung :contentReference[oaicite:24]{index=24}&#8203;:contentReference[oaicite:25]{index=25}                                                                                                                    |
| Ausfall von                  | time           | Beginn der UntertÃ¤gigkeit              | Format `HH:mm`; nur sichtbar, wenn â€UntertÃ¤gigâ€œ angekreuzt :contentReference[oaicite:26]{index=26}&#8203;:contentReference[oaicite:27]{index=27}                                                                                                                      |
| Ausfall bis                  | time           | Ende der UntertÃ¤gigkeit                | Format `HH:mm`; nur sichtbar, wenn â€UntertÃ¤gigâ€œ angekreuzt :contentReference[oaicite:28]{index=28}&#8203;:contentReference[oaicite:29]{index=29}                                                                                                                      |
| **Zusatzinformation**        | divider        | AbschnittsÃ¼berschrift                  | â€“                                                                                                                                                                                                |
| Angenommen von               | text           | Freigabe durch (Name)                  | Freitext; placeholder â€Angenommen von:â€œ; optional :contentReference[oaicite:30]{index=30}&#8203;:contentReference[oaicite:31]{index=31}                                                                                                                                  |
| Abwesenheit von              | text           | Abwesenheit von (Datum)                | Freitext; placeholder â€Vonâ€œ; Standard: `[date]` :contentReference[oaicite:32]{index=32}&#8203;:contentReference[oaicite:33]{index=33}                                                                                                                                 |
| Abwesenheit bis              | text           | Abwesenheit bis (Datum)                | Freitext; placeholder â€Bisâ€œ; Standard: `[date]` :contentReference[oaicite:34]{index=34}&#8203;:contentReference[oaicite:35]{index=35}                                                                                                                                 |
| Bemerkungen / Anmerkungen    | textarea       | Freitext fÃ¼r zusÃ¤tzliche Infos         | Max. 0 = unbegrenzt; placeholder â€ğŸ’¡ Bemerkungen / Anmerkungenâ€œ :contentReference[oaicite:36]{index=36}&#8203;:contentReference[oaicite:37]{index=37}                                                                                                                  |
| Section Buttons (Ende)       | end_divider    | SchlieÃŸt jeweiligen Abschnitt          | â€“                                                                                                                                                                                                |
| ğŸ“¤ E-Mails Senden            | submit         | Formular abschicken und E-Mails auslÃ¶sen | â€“                                                                                                                                                                                                |
| User ID                      | user_id        | Interner Nutzer-Identifier             | Automatisch gefÃ¼llt :contentReference[oaicite:38]{index=38}&#8203;:contentReference[oaicite:39]{index=39}  

---

### ğŸ§ª Technische Spezifikationen  
- **Exportformat:** XML (UTF-8)  
- **XML-Root:** `<channel>` â†’ `<form>` â†’ `<field>`  
- **Metadaten:** `field_type`, `field_label`, `default_value`, `options`, `required` :contentReference[oaicite:40]{index=40}&#8203;:contentReference[oaicite:41]{index=41}  
- **Plattform:** Formidable Forms (WordPress)  
- **AJAX-Submit & JS-Validierung:** aktiviert  
- **Entwurfsfunktion:** Speichern und Wiederaufnahme von Drafts aktiviert  

---

### ğŸ—‚ï¸ Verarbeitungshinweise  
1. **Reihenfolge:** Felder erscheinen in der `field_order`-Reihenfolge der XML.  
2. **Sichtbarkeit:** Kontrollierte Anzeige Ã¼ber `hide_field` / `hide_opt`-Regeln.  
3. **Pflichtfelder:** `<required>1</required>` markiert Pflichtfelder im XML.  
4. **Abschnitte:** Divider-Felder (`divider` / `end_divider`) gruppieren logische Bereiche.  

---

### ğŸ“ Anhang & Empfehlungen  
- FÃ¼r automatisierte Auswertungen empfiehlt sich ein **JSON-Dump** der Felder:  
  ```json
  [
    {
      "id": 647,
      "name": "Erstellt von",
      "type": "name",
      "required": true,
      â€¦
    },
    â€¦
  ]

{
  "ajax_load": "1",
  "ajax_submit": "1",
  "js_validate": "1",
  "save_draft": "1",
  "logged_in_role": ["", "administrator", "_teamleiter"],
  "open_editable_role": ["administrator", "_teamleiter"],
  "draft_label": "ğŸ’¾ Entwurf speichern",
  "draft_msg": "âœ… Dein Entwurf wurde gespeichert.",
  "submit_align": "center",
  "success_action": "redirect",
  "success_url": "https://klicktool.globl.contact/wfm-abwesenheit/",
  "redirect_delay_time": "8",
  "edit_msg": "Deine Antworten wurden erfolgreich eingereicht. Danke! ğŸ‰âœ…"
  // â€¦ (weitere Parameter wie custom_style, protect_files, etc.)
}
```
> **Hinweis:** vollstÃ¤ndiges JSON-Objekt im XML-Tag `<options>` 

---

## Architektur & Datenfluss

```mermaid
flowchart TB
  subgraph Client
    U[ğŸ‘¤ Benutzer] -->|Ã¶ffnet Formular| F[ğŸ“„ Formular-ID 30]
    F --> V{ğŸ›¡ï¸ JS-Validierung}
    V -->|âœ… OK| A[AJAX Submit]
    V -->|âŒ Fehler| E[âš ï¸ Fehlermeldung]
  end

  subgraph Server
    A --> DB[(ğŸ’¾ MySQL `wp_frm_*` Tabellen)]
    A --> Hooks[ğŸ”Œ Actions & E-Mails]
    Hooks --> Redirect[ğŸ”€ Redirect auf Success-URL]
  end
```

---

## Felddefinitionen

### 1. System-Meta

| ID  | Key    | Name                | Typ    | Pflicht | Default / Berechnung                           |
|-----|--------|---------------------|--------|---------|-------------------------------------------------|
| 647 | `9nx4z`| Erstellt von        | name   | Ja      | `{"first":"[first_name]","last":"[last_name]"}`  |
| 645 | `p0jmn`| Datum der Erfassung | date   | Ja      | `[date]`                         |
| 744 | `tzjug`| Zeit der Erfassung  | time   | Nein    | `[time]` (read-only)             |

### 2. Mitarbeiterdaten-Abschnitt

| ID  | Key     | Name                        | Typ      | Pflicht | Placeholder / Optionen                               |
|-----|---------|-----------------------------|----------|---------|------------------------------------------------------|
| 652 | `flpyx` | **Divider** â€Mitarbeiterdatenâ€œ | divider  | Nein    | â€“                                                    |
| 742 | `nwksj` | Vorname des Mitarbeiters    | text     | Ja      | `ğŸ˜€ Vorname`                        |
| 743 | `e40ji` | Nachname des Mitarbeiters   | text     | Ja      | `ğŸ˜€ Nachname`                       |
| 740 | `jauwk` | E-Mail des Mitarbeiters     | text     | Ja      | Berechnung: `[Vorname].[Nachname]@globl.contact`  |
| 666 | `r5loi` | Pers.-Nr.                   | text     | Ja      | `Pers.-Nr.`                        |
| 726 | `nw3pz` | Projekt wÃ¤hlen              | select   | Ja      | z. B. â€Telekomâ€œ, â€SECâ€œ, â€¦            |
| 667 | `itztd` | Abteilung                   | text     | Nein    | `ğŸ¢ Abteilung`                      |

### 3. Abwesenheit

| ID  | Key     | Name                  | Typ       | Pflicht | Optionen / Logik                                                                                         |
|-----|---------|-----------------------|-----------|---------|----------------------------------------------------------------------------------------------------------|
| 727 | `zl2m7` | Abwesenheitsgrund     | select    | Ja      | ğŸš« Unentschuldigte | ğŸ¤” Krankmeldung | ğŸ‘¶ Kinderkrankmeldung | ğŸŒ´ Urlaub | âœ¨ Sonderurlaub | ğŸ‰ Feiertag | â™»ï¸ Ausgleichstag  |
| 739 | `891k2` | UntertÃ¤gig            | checkbox  | Nein    | Nur sichtbar, wenn Grund = Krank- oder Kinderkrankmeldung (hide_field/hide_opt)  |
| 745 | `spbw4` | Ausfall von           | time      | Nein    | Nur bei â€UntertÃ¤gigâ€œ; Bereich: 07:00â€“23:45                                          |
| 746 | `1bpfo` | Ausfall bis           | time      | Nein    | Nur bei â€UntertÃ¤gigâ€œ; Bereich: 07:00â€“23:45                                          |

### 4. Zusatzinformation

| ID  | Key     | Name                         | Typ        | Pflicht | Details                                         |
|-----|---------|------------------------------|------------|---------|-------------------------------------------------|
| 653 | `igr4b` | **End Divider**              | end_divider| Nein    | â€“                                               |
| 660 | `quz9q` | **Divider** â€Zusatzinformationâ€œ | divider    | Nein    | â€“                                               |
| 682 | `5ab9b` | Angenommen von               | text       | Nein    | placeholder â€Angenommen von:â€œ; Jahr-Range â€“10/+10  |
| 680 | `hxid2` | Abwesenheit von              | text       | Nein    | placeholder â€Vonâ€œ; Default `[date]`  |
| 731 | `rnq9o` | Abwesenheit bis              | text       | Nein    | placeholder â€Bisâ€œ; Default `[date]`  |
| 681 | `7lh1p` | Bemerkungen / Anmerkungen    | textarea   | Nein    | placeholder â€ğŸ’¡ Bemerkungen / Anmerkungenâ€œ; unbegrenzt  |
| 661 | `ivkbj` | **End Divider**              | end_divider| Nein    | â€“                                               |

### 5. Submission

| ID  | Key      | Name               | Typ    | Pflicht | Aktion                                   |
|-----|----------|--------------------|--------|---------|------------------------------------------|
| 644 | `submit5`| ğŸ“¤ E-Mails Senden  | submit | Nein    | lÃ¶st WP-E-Mail-Hooks & Redirect aus      |
| 750 | `xbkt0`  | User ID            | user_id| Nein    | Internes WP-User-Feld                    |

---

## Sichten (Views)

| Titel                                    | Type   | Filter                                    | Layout (Boxes)                                 |
|------------------------------------------|--------|-------------------------------------------|------------------------------------------------|
| Klicktool: WFM: KRANKMELDUNG Table       | table  | keine / alle EintrÃ¤ge                     | Datum, Erstellt, Mitarbeiter, â€¦ Bemerkungen    |
| â€¦ â€Heuteâ€œ                               | table  | `created_at >= today`                     | [Erstellt von, Vorname, Nachname â€¦]            |
| â€¦ â€Wocheâ€œ                               | table  | `created_at >= monday this week`          | [Erstellt von, â€¦, Bis]                         |
| â€¦ â€Ganze Zeitâ€œ                          | table  | keine zeitliche EinschrÃ¤nkung             | [Erstellt von, â€¦, Bemerkungen]                 | 

---

## Styling & Themes

**Modern Dark** (Beispiel aus `frm_styles`):  
- Theme: `Smoothness` (jQuery UI)  
- Schrift: Orbitron, Rajdhani, Share Tech Mono, â€¦  
- Farben: Hintergrund `#1a1e27`, Text `#c1c1c1`, Akzent `#00c4b3`  
- Inputs: abgerundete Ecken, Schatten, responsive Breite  
- Progress Bar & Buttons: aktive Farben, Hover-Effekte 

---

## Verarbeitungshinweise

- **Reihenfolge:** XML-Felder geordnet nach `<field_order>`.  
- **Sichtbarkeits-Regeln:** via `hide_field` / `hide_opt` in `<field_options>`.  
- **Pflichtfelder:** `<required>1</required>` â†’ visuell `*`-Markierung.  
- **Abschnitte:** `divider` / `end_divider` strukturieren das Formular.  
- **Drafts:** EntwÃ¼rfe speicherbar, nur berechtigte Rollen kÃ¶nnen editieren.  

---

## Datenexport & Mapping

1. **JSON-Export**  
   ```json
   [
     {
       "id": 742,
       "key": "nwksj",
       "name": "Vorname des Mitarbeiters",
       "type": "text",
       "required": true,
       "placeholder": "ğŸ˜€ Vorname"
     },
     â€¦
   ]
   ```
2. **Relationale Tabellen**  
   - Tabelle `frm_fields` mit Spalten: `field_id`, `form_id`, `field_key`, `type`, `required`  
   - Tabelle `frm_field_options` fÃ¼r komplexe Optionen & Validierungen  
3. **API-Integration**  
   - AJAX-Submit â†’ Hook `frm_after_create_entry`  
   - WP-E-Mail â†’ Filter `frm_email_recipient`  

---

## Anhang: XML-Auszug

```xml
<form>
  <id>30</id>
  <form_key><![CDATA[ieq67]]></form_key>
  <name><![CDATA[ ğŸŸ¥ Abwesenheiten]]></name>
  â€¦
  <options><![CDATA[{ "ajax_submit":"1", â€¦ }]]></options>
  <field><id>647</id><type><![CDATA[name]]></type>â€¦</field>
  â€¦
</form>
```

> **VollstÃ¤ndiges XML** im Export-File   

---

**Ende der Dokumentation**  
```
